<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>EO: eoMGGReplacement.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a></div>
<h1>eoMGGReplacement.h</h1><div class="fragment"><pre class="fragment">00001 
00024 <span class="comment">//-----------------------------------------------------------------------------</span>
00025 
00026 <span class="preprocessor">#ifndef _eoMGGReplacement_h</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#define _eoMGGReplacement_h</span>
00028 <span class="preprocessor"></span>
00029 
00030 <span class="comment">//-----------------------------------------------------------------------------</span>
00031 <span class="preprocessor">#include &lt;eoPop.h&gt;</span>
00032 <span class="preprocessor">#include &lt;eoFunctor.h&gt;</span>
00033 <span class="preprocessor">#include &lt;eoMerge.h&gt;</span>
00034 <span class="preprocessor">#include &lt;eoReduce.h&gt;</span>
00035 <span class="preprocessor">#include &lt;utils/eoHowMany.h&gt;</span>
00036 <span class="preprocessor">#include &lt;eoReduceSplit.h&gt;</span>
00037 <span class="comment">//-----------------------------------------------------------------------------</span>
00038 
00049 <span class="keyword">template</span> &lt;<span class="keyword">class</span> EOT&gt;
<a name="l00050"></a><a class="code" href="classeo_m_g_g_replacement.html">00050</a> <span class="keyword">class </span><a class="code" href="classeo_m_g_g_replacement.html">eoMGGReplacement</a> : <span class="keyword">public</span> <a class="code" href="classeo_replacement.html">eoReplacement</a>&lt;EOT&gt;
00051 {
00052 <span class="keyword">public</span>:
00053   <a class="code" href="classeo_m_g_g_replacement.html">eoMGGReplacement</a>(<a class="code" href="classeo_how_many.html">eoHowMany</a> _howManyEliminatedParents = <a class="code" href="classeo_how_many.html">eoHowMany</a>(2, <span class="keyword">false</span>),
00054                    <span class="keywordtype">unsigned</span> _tSize=2) :
00055     <span class="comment">// split truncates the parents and returns eliminated parents</span>
00056     split(_howManyEliminatedParents, <span class="keyword">true</span>), 
00057     tSize(_tSize)
00058   {
00059     <span class="keywordflow">if</span> (tSize &lt; 2)
00060       { 
00061         std::cout &lt;&lt; <span class="stringliteral">"Warning, Size for eoDetTournamentTruncateSplit adjusted to 2\n"</span>;
00062         tSize = 2;
00063       }
00064   }
00065     
<a name="l00066"></a><a class="code" href="classeo_m_g_g_replacement.html#a1">00066</a>     <span class="keywordtype">void</span> <a class="code" href="classeo_m_g_g_replacement.html#a1">operator()</a>(<a class="code" href="classeo_pop.html">eoPop&lt;EOT&gt;</a> &amp; _parents, <a class="code" href="classeo_pop.html">eoPop&lt;EOT&gt;</a> &amp; _offspring)
00067     {
00068       <a class="code" href="classeo_pop.html">eoPop&lt;EOT&gt;</a> temp;
00069       split(_parents, temp);
00070       <span class="keywordtype">unsigned</span> toKeep = temp.size(); <span class="comment">// how many to keep from merged populations</span>
00071       <span class="comment">// minimal check</span>
00072       <span class="keywordflow">if</span> (toKeep &lt; 2)
00073         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"Not enough parents killed in eoMGGReplacement"</span>);
00074 
00075       <span class="comment">// select best offspring</span>
00076       <span class="keyword">typename</span> <a class="code" href="classeo_pop.html">eoPop&lt;EOT&gt;</a>::iterator it = _offspring.<a class="code" href="classeo_pop.html#a9">it_best_element</a>();
00077       <span class="comment">// add to parents</span>
00078       _parents.push_back(*it);
00079       <span class="comment">// remove from offspring</span>
00080       _offspring.erase(it);
00081 
00082       <span class="comment">// merge temp into offspring</span>
00083       plus(temp, _offspring);
00084       
00085       <span class="comment">// repeatedly add selected offspring to parents</span>
00086       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;toKeep-1; i++)
00087         {
00088           <span class="comment">// select</span>
00089           it = deterministic_tournament(_offspring.begin(), _offspring.end(), tSize);
00090           <span class="comment">// add to parents</span>
00091           _parents.push_back(*it);
00092           <span class="comment">// remove from offspring</span>
00093           _offspring.erase(it);
00094         }
00095     }
00096 
00097 <span class="keyword">private</span>:
00098   <a class="code" href="classeo_linear_truncate_split.html">eoLinearTruncateSplit&lt;EOT&gt;</a> split; <span class="comment">// few parents to truncate -&gt; linear </span>
00099   <a class="code" href="classeo_plus.html">eoPlus&lt;EOT&gt;</a> plus;
00100   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tSize;
00101 };
00102 
00103 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 05:06:36 2006 for EO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
