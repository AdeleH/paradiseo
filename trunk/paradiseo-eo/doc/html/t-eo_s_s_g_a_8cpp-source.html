<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>EO: t-eoSSGA.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000002.html">test</a></div>
<h1>t-eoSSGA.cpp</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#include &lt;eo&gt;</span>
00002 
00003 <span class="comment">// tests a Steady State GA</span>
00004 
00005 <span class="comment">// Needed to define this breeder, maybe make it a breeder</span>
00006 <span class="keyword">template</span> &lt;<span class="keyword">class</span> EOT&gt;
00007 <span class="keyword">class </span>eoBreedOne : <span class="keyword">public</span> <a class="code" href="classeo_breed.html">eoBreed</a>&lt;EOT&gt;
00008 {
00009 <span class="keyword">public</span> :
00010   eoBreedOne(<a class="code" href="classeo_select_one.html">eoSelectOne&lt;EOT&gt;</a>&amp; _select, <a class="code" href="classeo_gen_op.html">eoGenOp&lt;EOT&gt;</a>&amp; _op) : select(_select), op(_op) {}
00011 
00012   <span class="keywordtype">void</span> <a class="code" href="classeo_b_f.html#a1">operator()</a>(<span class="keyword">const</span> <a class="code" href="classeo_pop.html">eoPop&lt;EOT&gt;</a>&amp; _src, <a class="code" href="classeo_pop.html">eoPop&lt;EOT&gt;</a>&amp; _dest)
00013   {
00014     _dest.clear();
00015     <a class="code" href="classeo_selective_populator.html">eoSelectivePopulator&lt;EOT&gt;</a> pop(_src, _dest, select);
00016     op(pop);
00017   }
00018 
00019 <span class="keyword">private</span> :
00020   <a class="code" href="classeo_select_one.html">eoSelectOne&lt;EOT&gt;</a>&amp; select;
00021   <a class="code" href="classeo_gen_op.html">eoGenOp&lt;EOT&gt;</a>&amp; op;
00022 };
00023 
00024 <span class="keyword">typedef</span> <a class="code" href="classeo_scalar_fitness.html">eoMinimizingFitness</a> <a class="code" href="classeo_pareto_fitness.html">FitnessType</a>;
00025 <span class="keyword">typedef</span> <a class="code" href="classeo_vector.html">eoVector&lt;FitnessType, unsigned&gt;</a> <a class="code" href="classeo_parse_tree.html">EoType</a>;
00026 
00027 <span class="keyword">template</span> &lt;<span class="keyword">class</span> EOT&gt;
00028 <span class="keyword">class </span>eoMyEval : <span class="keyword">public</span> <a class="code" href="classeo_eval_func.html">eoEvalFunc</a>&lt;EOT&gt;
00029 {
00030   <span class="keyword">public</span> :
00031 
00032   <span class="keywordtype">void</span> <a class="code" href="classeo_u_f.html#a1">operator()</a>(<a class="code" href="struct_dummy.html">EOT</a>&amp; _eo)
00033   {
00034     _eo.<a class="code" href="class_e_o.html#a2">fitness</a>(*std::max_element(_eo.begin(), _eo.end()));
00035   }
00036 };
00037 
00038 <span class="keyword">template</span> &lt;<span class="keyword">class</span> EOT&gt;
00039 <span class="keyword">class </span>Xover : <span class="keyword">public</span> <a class="code" href="classeo_bin_op.html">eoBinOp</a>&lt;EOT&gt;
00040 {
00041   <span class="keywordtype">bool</span> <a class="code" href="classeo_b_f.html#a1">operator()</a>(<a class="code" href="struct_dummy.html">EOT</a>&amp; _eo, <span class="keyword">const</span> <a class="code" href="struct_dummy.html">EOT</a>&amp; _eo2)
00042   {
00043     <span class="keywordtype">unsigned</span> point = rng.<a class="code" href="classeo_rng.html#a5">random</a>(_eo.size());
00044     std::copy(_eo2.begin() + point, _eo2.end(), _eo.begin() + point);
00045     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00046   }
00047 };
00048 
00049 <span class="keyword">template</span> &lt;<span class="keyword">class</span> EOT&gt;
00050 <span class="keyword">class </span>Mutate : <span class="keyword">public</span> <a class="code" href="classeo_mon_op.html">eoMonOp</a>&lt;EOT&gt;
00051 {
00052   <span class="keywordtype">bool</span> <a class="code" href="classeo_u_f.html#a1">operator()</a>(<a class="code" href="struct_dummy.html">EOT</a>&amp; _eo)
00053   {
00054     <span class="keywordtype">unsigned</span> point = rng.<a class="code" href="classeo_rng.html#a5">random</a>(_eo.size());
00055     _eo[point] = rng.<a class="code" href="classeo_rng.html#a5">random</a>(1024);
00056     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00057   }
00058 };
00059 
00060 
00061 <span class="keywordtype">int</span> main()
00062 {
00063   <span class="keywordtype">int</span> pop_size = 10;
00064 
00065   <a class="code" href="classeo_gen_continue.html">eoGenContinue&lt;EoType&gt;</a> cnt(10);
00066   <a class="code" href="classeo_check_point.html">eoCheckPoint&lt;EoType&gt;</a> cp(cnt);
00067 
00068 
00069   Xover&lt;EoType&gt; xover;
00070   Mutate&lt;EoType&gt; mutate;
00071 
00072   <a class="code" href="classeo_proportional_op.html">eoProportionalOp&lt;EoType&gt;</a> opsel;
00073 
00074   opsel.<a class="code" href="classeo_op_container.html#a3">add</a>(xover, 0.8);
00075   opsel.<a class="code" href="classeo_op_container.html#a3">add</a>(mutate, 0.2);
00076 
00077 
00078   <a class="code" href="classeo_det_tournament_select.html">eoDetTournamentSelect&lt;EoType&gt;</a> selector(3);
00079   eoBreedOne&lt;EoType&gt; breed(selector, opsel);
00080 
00081   <span class="comment">// Replace a single one</span>
00082   <a class="code" href="classeo_s_s_g_a_worse_replacement.html">eoSSGAWorseReplacement&lt;EoType&gt;</a> replace;
00083 
00084 
00085 <span class="comment">//  eoRandomSelect&lt;EoType&gt; selector;</span>
00086 <span class="comment">//  eoGeneralBreeder&lt;EoType&gt; breed(selector, opsel);</span>
00087 <span class="comment">//  eoPlusReplacement&lt;EoType&gt; replace;</span>
00088 
00089 
00090   eoMyEval&lt;EoType&gt; eval;
00091 
00092   <a class="code" href="classeo_easy_e_a.html">eoEasyEA&lt;EoType&gt;</a> algo(cp, eval, breed, replace);
00093 
00094   <a class="code" href="classeo_uniform_generator.html">eoUniformGenerator&lt;unsigned&gt;</a> unif(0,1024);
00095   <a class="code" href="classeo_init_fixed_length.html">eoInitFixedLength&lt;EoType&gt;</a> init(20, unif);
00096 
00097   <a class="code" href="classeo_pop.html">eoPop&lt;EoType&gt;</a> pop(pop_size, init);
00098 
00099   <span class="comment">// evaluate</span>
00100   apply&lt;EoType&gt;(eval, pop);
00101 
00102   <a class="code" href="classeo_best_fitness_stat.html">eoBestFitnessStat&lt;EoType&gt;</a>  best(<span class="stringliteral">"Best_Fitness"</span>);
00103         <a class="code" href="classeo_average_stat.html">eoAverageStat&lt;EoType&gt;</a> avg(<span class="stringliteral">"Avg_Fitness"</span>);
00104   <a class="code" href="classeo_stdout_monitor.html">eoStdoutMonitor</a> mon;
00105 
00106   cp.<a class="code" href="classeo_op_container.html#a3">add</a>(best);
00107   cp.<a class="code" href="classeo_op_container.html#a3">add</a>(avg);
00108 
00109 <span class="comment">//  cp.add(mon);</span>
00110 
00111   mon.<a class="code" href="classeo_monitor.html#a1">add</a>(best);
00112   mon.<a class="code" href="classeo_monitor.html#a1">add</a>(avg);
00113 
00114   <span class="comment">// and run</span>
00115   algo(pop);
00116 
00117 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 05:06:44 2006 for EO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
