<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>EO: MyStructSEA.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000003.html">tutorial</a>&nbsp;/&nbsp;<a class="el" href="dir_000026.html">Templates</a></div>
<h1>MyStructSEA.cpp</h1><div class="fragment"><pre class="fragment">00001 
00006 <span class="comment">/*</span>
00007 <span class="comment">Template for creating a new representation in EO</span>
00008 <span class="comment">================================================</span>
00009 <span class="comment"></span>
00010 <span class="comment">This is the template main file.</span>
00011 <span class="comment">It includes all other files that have been generated by the script create.sh</span>
00012 <span class="comment">so it is the only file to compile.</span>
00013 <span class="comment"></span>
00014 <span class="comment">In case you want to build up a separate library for your new Evolving Object,</span>
00015 <span class="comment">you'll need some work - follow what's done in the src/ga dir, used in the</span>
00016 <span class="comment">main file BitEA in tutorial/Lesson4 dir.</span>
00017 <span class="comment">Or you can wait until we do it :-)</span>
00018 <span class="comment">*/</span>
00019 
00020 <span class="comment">// Miscilaneous include and declaration</span>
00021 <span class="preprocessor">#include &lt;iostream&gt;</span>
00022 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00023 
00024 <span class="comment">// eo general include</span>
00025 <span class="preprocessor">#include "eo"</span>
00026 <span class="comment">// the real bounds (not yet in general eo include)</span>
00027 <span class="preprocessor">#include "utils/eoRealVectorBounds.h"</span>
00028 
00029 <span class="comment">// include here whatever specific files for your representation</span>
00030 <span class="comment">// Basically, this should include at least the following</span>
00031 
00035 <span class="preprocessor">#include "eoMyStruct.h"</span>
00036 
00040 <span class="preprocessor">#include "eoMyStructInit.h"</span>
00041 
00047 <span class="preprocessor">#include "eoMyStructEvalFunc.h"</span>
00048 
00053 <span class="preprocessor">#include "eoMyStructQuadCrossover.h"</span>
00054 <span class="preprocessor">#include "eoMyStructMutation.h"</span>
00055 
00056 <span class="comment">/* and (possibly) your personal statistics */</span>
00057 <span class="preprocessor">#include "eoMyStructStat.h"</span>
00058 
00059 <span class="comment">// GENOTYPE   eoMyStruct ***MUST*** be templatized over the fitness</span>
00060 
00061 <span class="comment">//*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*</span>
00062 <span class="comment">// START fitness type: double or eoMaximizingFitness if you are maximizing</span>
00063 <span class="comment">//                     eoMinimizingFitness if you are minimizing</span>
00064 <span class="keyword">typedef</span> <a class="code" href="classeo_scalar_fitness.html">eoMinimizingFitness</a> <a class="code" href="classeo_scalar_fitness.html">MyFitT</a> ;    <span class="comment">// type of fitness</span>
00065 <span class="comment">// END fitness type</span>
00066 <span class="comment">//*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*</span>
00067 
00068 <span class="comment">// Then define your EO objects using that fitness type</span>
00069 <span class="keyword">typedef</span> eoMyStruct&lt;MyFitT&gt; <a class="code" href="classeo_real.html">Indi</a>;      <span class="comment">// ***MUST*** derive from EO</span>
00070 
00071 
00072 <span class="comment">// Use existing modules to define representation independent routines</span>
00073 
00074 <span class="comment">// how to initialize the population</span>
00075 <span class="comment">// it IS representation independent if an eoInit is given</span>
00076 <span class="preprocessor">#include &lt;do/make_pop.h&gt;</span>
00077 <a class="code" href="classeo_pop.html">eoPop&lt;Indi &gt;</a>&amp;  make_pop(eoParser&amp; _parser, <a class="code" href="classeo_state.html">eoState</a>&amp; _state, <a class="code" href="classeo_init.html">eoInit&lt;Indi&gt;</a> &amp; _init)
00078 {
00079   <span class="keywordflow">return</span> do_make_pop(_parser, _state, _init);
00080 }
00081 
00082 <span class="comment">// the stopping criterion</span>
00083 <span class="preprocessor">#include &lt;do/make_continue.h&gt;</span>
00084 <a class="code" href="classeo_continue.html">eoContinue&lt;Indi&gt;</a>&amp; make_continue(eoParser&amp; _parser, <a class="code" href="classeo_state.html">eoState</a>&amp; _state, <a class="code" href="classeo_eval_func_counter.html">eoEvalFuncCounter&lt;Indi&gt;</a> &amp; _eval)
00085 {
00086   <span class="keywordflow">return</span> do_make_continue(_parser, _state, _eval);
00087 }
00088 
00089 <span class="comment">// outputs (stats, population dumps, ...)</span>
00090 <span class="preprocessor">#include &lt;do/make_checkpoint.h&gt;</span>
00091 <a class="code" href="classeo_check_point.html">eoCheckPoint&lt;Indi&gt;</a>&amp; make_checkpoint(eoParser&amp; _parser, <a class="code" href="classeo_state.html">eoState</a>&amp; _state, <a class="code" href="classeo_eval_func_counter.html">eoEvalFuncCounter&lt;Indi&gt;</a>&amp; _eval, <a class="code" href="classeo_continue.html">eoContinue&lt;Indi&gt;</a>&amp; _continue)
00092 {
00093   <span class="keywordflow">return</span> do_make_checkpoint(_parser, _state, _eval, _continue);
00094 }
00095 
00096 <span class="comment">// evolution engine (selection and replacement)</span>
00097 <span class="preprocessor">#include &lt;do/make_algo_scalar.h&gt;</span>
00098 <a class="code" href="classeo_algo.html">eoAlgo&lt;Indi&gt;</a>&amp;  make_algo_scalar(eoParser&amp; _parser, <a class="code" href="classeo_state.html">eoState</a>&amp; _state, <a class="code" href="classeo_eval_func.html">eoEvalFunc&lt;Indi&gt;</a>&amp; _eval, <a class="code" href="classeo_continue.html">eoContinue&lt;Indi&gt;</a>&amp; _continue, <a class="code" href="classeo_gen_op.html">eoGenOp&lt;Indi&gt;</a>&amp; _op, <a class="code" href="classeo_distance.html">eoDistance&lt;Indi&gt;</a> *_dist = NULL)
00099 {
00100   <span class="keywordflow">return</span> do_make_algo_scalar(_parser, _state, _eval, _continue, _op, _dist);
00101 }
00102 
00103 <span class="comment">// simple call to the algo. stays there for consistency reasons</span>
00104 <span class="comment">// no template for that one</span>
00105 <span class="preprocessor">#include &lt;do/make_run.h&gt;</span>
00106 <span class="comment">// the instanciating fitnesses</span>
00107 <span class="preprocessor">#include &lt;eoScalarFitness.h&gt;</span>
00108 <span class="keywordtype">void</span> run_ea(<a class="code" href="classeo_algo.html">eoAlgo&lt;Indi&gt;</a>&amp; _ga, <a class="code" href="classeo_pop.html">eoPop&lt;Indi&gt;</a>&amp; _pop)
00109 {
00110   do_run(_ga, _pop);
00111 }
00112 
00113 <span class="comment">// checks for help demand, and writes the status file</span>
00114 <span class="comment">// and make_help; in libutils</span>
00115 <span class="keywordtype">void</span> make_help(eoParser &amp; _parser);
00116 
00117 <span class="comment">// now use all of the above, + representation dependent things</span>
00118 <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])
00119 {
00120 <span class="keywordflow">try</span>
00121   {
00122     eoParser parser(argc, argv);  <span class="comment">// for user-parameter reading</span>
00123 
00124     <a class="code" href="classeo_state.html">eoState</a> state;    <span class="comment">// keeps all things allocated</span>
00125 
00126     <span class="comment">// The fitness</span>
00128 <span class="comment"></span>    eoMyStructEvalFunc&lt;Indi&gt; plainEval<span class="comment">/* (varType  _anyVariable) */</span>;
00129     <span class="comment">// turn that object into an evaluation counter</span>
00130     <a class="code" href="classeo_eval_func_counter.html">eoEvalFuncCounter&lt;Indi&gt;</a> eval(plainEval);
00131 
00132     <span class="comment">// a genotype initializer</span>
00133     eoMyStructInit&lt;Indi&gt; init;
00134     <span class="comment">// or, if you need some parameters, you might as well</span>
00135     <span class="comment">// - write a constructor of the eoMyStructInit that uses a parser</span>
00136     <span class="comment">// - call it from here:</span>
00137     <span class="comment">//        eoMyStructInit&lt;Indi&gt; init(parser);</span>
00138 
00139     <span class="comment">// if you want to do sharing, you'll need a distance.</span>
00140     <span class="comment">// see file utils/eoDistance.h</span>
00141     <span class="comment">//</span>
00142     <span class="comment">// IF you representation has an operator[]() double-castable,</span>
00143     <span class="comment">// then you can use for instance the quadratic distance (L2 norm)</span>
00144     <span class="comment">//    eoQuadDistance&lt;Indi&gt; dist;</span>
00145     <span class="comment">// or the Hamming distance (L1 norm)</span>
00146     <span class="comment">// eoHammingDistance&lt;Indi&gt; dist;</span>
00147 
00148 
00149     <span class="comment">// Build the variation operator (any seq/prop construct)</span>
00150     <span class="comment">// here, a simple example with only 1 crossover (2-&gt;2, a QuadOp) and</span>
00151     <span class="comment">// one mutation, is given.</span>
00152     <span class="comment">// Hints to have choice among multiple crossovers and mutations are given</span>
00153 
00154     <span class="comment">// A (first) crossover (possibly use the parser in its Ctor)</span>
00155     eoMyStructQuadCrossover&lt;Indi&gt; cross <span class="comment">/* (eoParser parser) */</span>;
00156 
00157     <span class="comment">// IF MORE THAN ONE:</span>
00158 
00159     <span class="comment">// read its relative rate in the combination</span>
00160 <span class="comment">// double cross1Rate = parser.createParam(1.0, "cross1Rate", "Relative rate for crossover 1", '1', "Variation Operators").value();</span>
00161 
00162     <span class="comment">// create the combined operator with the first one (rename it cross1 !!!)</span>
00163 <span class="comment">// eoPropCombinedQuadOp&lt;Indi&gt; cross(cross1, cross1Rate);</span>
00164 
00165     <span class="comment">// and as many as you want the following way:</span>
00166     <span class="comment">// 1- write the new class by mimicking eoMyStructQuadCrossover.h</span>
00167     <span class="comment">// 2- include that file here together with eoMyStructQuadCrossover above</span>
00168     <span class="comment">// 3- uncomment and duplicate the following lines:</span>
00169     <span class="comment">//</span>
00170 <span class="comment">// eoMyStructSecondCrossover&lt;Indi&gt; cross2(eoParser parser);</span>
00171 <span class="comment">// double cross2Rate = parser.createParam(1.0, "cross2Rate", "Relative rate for crossover 2", '2', "Variation Operators").value();</span>
00172 <span class="comment">// cross.add(cross2, cross2Rate);</span>
00173 
00174   <span class="comment">// NOTE: if you want some gentle output, the last one shoudl be like</span>
00175   <span class="comment">//  cross.add(cross, crossXXXRate, true);</span>
00176 
00178 
00179   <span class="comment">// a (first) mutation   (possibly use the parser in its Ctor)</span>
00180   eoMyStructMutation&lt;Indi&gt; mut <span class="comment">/* (parser) */</span>;
00181 
00182     <span class="comment">// IF MORE THAN ONE:</span>
00183 
00184     <span class="comment">// read its relative rate in the combination</span>
00185 <span class="comment">// double mut1Rate = parser.createParam(1.0, "mut1Rate", "Relative rate for mutation 1", '1', "Variation Operators").value();</span>
00186 
00187     <span class="comment">// create the combined operator with the first one (rename it cross1 !!!)</span>
00188 <span class="comment">// eoPropCombinedMonOp&lt;Indi&gt; mut(mut1, mut1Rate);</span>
00189 
00190     <span class="comment">// and as many as you want the following way:</span>
00191     <span class="comment">// 1- write the new class by mimicking eoMyStructMutation.h</span>
00192     <span class="comment">// 2- include that file here together with eoMyStructMutation above</span>
00193     <span class="comment">// 3- uncomment and duplicate the following lines:</span>
00194     <span class="comment">//</span>
00195 <span class="comment">// eoMyStructSecondMutation&lt;Indi&gt; mut2(eoParser parser);</span>
00196 <span class="comment">// double mut2Rate = parser.createParam(1.0, "mut2Rate", "Relative rate for mutation 2", '2', "Variation Operators").value();</span>
00197 <span class="comment">// mut.add(mut2, mut2Rate);</span>
00198 
00199   <span class="comment">// NOTE: if you want some gentle output, the last one shoudl be like</span>
00200   <span class="comment">//  mut.add(mut, mutXXXRate, true);</span>
00201 
00202   <span class="comment">// now encapsulate your crossover(s) and mutation(s) into an eoGeneralOp</span>
00203   <span class="comment">// so you can fully benefit of the existing evolution engines</span>
00204 
00205   <span class="comment">// First read the individual level parameters</span>
00206     <span class="keywordtype">double</span> pCross = parser.createParam(0.6, <span class="stringliteral">"pCross"</span>, <span class="stringliteral">"Probability of Crossover"</span>, <span class="charliteral">'C'</span>, <span class="stringliteral">"Variation Operators"</span> ).value();
00207     <span class="comment">// minimum check</span>
00208     <span class="keywordflow">if</span> ( (pCross &lt; 0) || (pCross &gt; 1) )
00209       <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">"Invalid pCross"</span>);
00210 
00211     <span class="keywordtype">double</span> pMut = parser.createParam(0.1, <span class="stringliteral">"pMut"</span>, <span class="stringliteral">"Probability of Mutation"</span>, <span class="charliteral">'M'</span>, <span class="stringliteral">"Variation Operators"</span> ).value();
00212     <span class="comment">// minimum check</span>
00213     <span class="keywordflow">if</span> ( (pMut &lt; 0) || (pMut &gt; 1) )
00214       <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">"Invalid pMut"</span>);
00215 
00216     <span class="comment">// now create the generalOp</span>
00217     <a class="code" href="classeo_s_g_a_gen_op.html">eoSGAGenOp&lt;Indi&gt;</a> op(cross, pCross, mut, pMut);
00218 
00219 
00221     <span class="comment">//</span>
00222     <span class="comment">// You do not need to modify anything beyond this point</span>
00223     <span class="comment">// unless you want to add specific statistics to the checkpoint</span>
00224     <span class="comment">// in which case you should uncomment the corresponding block</span>
00225     <span class="comment">// and possibly modify the parameters in the stat object creation</span>
00227 <span class="comment"></span>
00228   <span class="comment">// initialize the population</span>
00229   <span class="comment">// yes, this is representation indepedent once you have an eoInit</span>
00230   <a class="code" href="classeo_pop.html">eoPop&lt;Indi&gt;</a>&amp; pop   = make_pop(parser, state, init);
00231 
00232   <span class="comment">// stopping criteria</span>
00233   <a class="code" href="classeo_continue.html">eoContinue&lt;Indi&gt;</a> &amp; term = make_continue(parser, state, eval);
00234   <span class="comment">// output</span>
00235   <a class="code" href="classeo_check_point.html">eoCheckPoint&lt;Indi&gt;</a> &amp; checkpoint = make_checkpoint(parser, state, eval, term);
00236 
00237 
00238   <span class="comment">// UNCOMMENT the following commented block if you want to add you stats</span>
00239 
00240   <span class="comment">// if uncommented, it is assumed that you will want to print some stat.</span>
00241   <span class="comment">// if not, then the following objects will be created uselessly - but what the heck!</span>
00242 
00243   eoMyStructStat&lt;Indi&gt;   myStat;       <span class="comment">// or maybe myStat(parser);</span>
00244   checkpoint.<a class="code" href="classeo_check_point.html#a2">add</a>(myStat);
00245   <span class="comment">// This one is probably redundant with the one in make_checkpoint, but w.t.h.</span>
00246   <a class="code" href="classeo_incrementor_param.html">eoIncrementorParam&lt;unsigned&gt;</a> generationCounter(<span class="stringliteral">"Gen."</span>);
00247   checkpoint.<a class="code" href="classeo_check_point.html#a2">add</a>(generationCounter);
00248   <span class="comment">// need to get the name of the redDir param (if any)</span>
00249   std::string dirName =  parser.getORcreateParam(std::string(<span class="stringliteral">"Res"</span>), <span class="stringliteral">"resDir"</span>, <span class="stringliteral">"Directory to store DISK outputs"</span>, <span class="charliteral">'\0'</span>, <span class="stringliteral">"Output - Disk"</span>).value() + <span class="stringliteral">"/"</span>;
00250 
00251 
00252   <span class="comment">// those need to be pointers because of the if's</span>
00253   <a class="code" href="classeo_stdout_monitor.html">eoStdoutMonitor</a> *myStdOutMonitor;
00254   <a class="code" href="classeo_file_monitor.html">eoFileMonitor</a>   *myFileMonitor;
00255 <span class="preprocessor">#ifdef HAVE_GNUPLOT</span>
00256 <span class="preprocessor"></span>  <a class="code" href="classeo_gnuplot1_d_monitor.html">eoGnuplot1DMonitor</a> *myGnuMonitor;
00257 <span class="preprocessor">#endif</span>
00258 <span class="preprocessor"></span>
00259   <span class="comment">// now check how you want to output the stat:</span>
00260   <span class="keywordtype">bool</span> printMyStructStat = parser.createParam(<span class="keyword">false</span>, <span class="stringliteral">"coutMyStructStat"</span>, <span class="stringliteral">"Prints my stat to screen, one line per generation"</span>, <span class="charliteral">'\0'</span>, <span class="stringliteral">"My application"</span>).value();
00261   <span class="keywordtype">bool</span> fileMyStructStat = parser.createParam(<span class="keyword">false</span>, <span class="stringliteral">"fileMyStructStat"</span>, <span class="stringliteral">"Saves my stat to file (in resDir"</span>, <span class="charliteral">'\0'</span>, <span class="stringliteral">"My application"</span>).value();
00262   <span class="keywordtype">bool</span> plotMyStructStat = parser.createParam(<span class="keyword">false</span>, <span class="stringliteral">"plotMyStructStat"</span>, <span class="stringliteral">"On-line plots my stat using gnuplot"</span>, <span class="charliteral">'\0'</span>, <span class="stringliteral">"My application"</span>).value();
00263 
00264   <span class="comment">// should we write it on StdOut ?</span>
00265   <span class="keywordflow">if</span> (printMyStructStat)
00266     {
00267       myStdOutMonitor = <span class="keyword">new</span> <a class="code" href="classeo_stdout_monitor.html">eoStdoutMonitor</a>(<span class="keyword">false</span>);
00268       <span class="comment">// don't forget to store the memory in the state</span>
00269       state.<a class="code" href="classeo_functor_store.html#a2">storeFunctor</a>(myStdOutMonitor);
00270       <span class="comment">// and of course to add the monitor to the checkpoint</span>
00271       checkpoint.<a class="code" href="classeo_check_point.html#a2">add</a>(*myStdOutMonitor);
00272       <span class="comment">// and the different fields to the monitor</span>
00273       myStdOutMonitor-&gt;<a class="code" href="classeo_monitor.html#a1">add</a>(generationCounter);
00274       myStdOutMonitor-&gt;<a class="code" href="classeo_monitor.html#a1">add</a>(eval);
00275       myStdOutMonitor-&gt;<a class="code" href="classeo_monitor.html#a1">add</a>(myStat);
00276     }
00277 
00278   <span class="comment">// first check the directory (and creates it if not exists already):</span>
00279   <span class="keywordflow">if</span> (fileMyStructStat || plotMyStructStat)
00280       <span class="keywordflow">if</span> (! testDirRes(dirName, <span class="keyword">true</span>) )
00281         <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">"Problem with resDir"</span>);
00282 
00283   <span class="comment">// should we write it to a file ?</span>
00284   <span class="keywordflow">if</span> (fileMyStructStat)
00285     {
00286       <span class="comment">// the file name is hard-coded - of course you can read</span>
00287       <span class="comment">// a string parameter in the parser if you prefer</span>
00288       myFileMonitor = <span class="keyword">new</span> <a class="code" href="classeo_file_monitor.html">eoFileMonitor</a>(dirName + <span class="stringliteral">"myStat.xg"</span>);
00289       <span class="comment">// don't forget to store the memory in the state</span>
00290       state.<a class="code" href="classeo_functor_store.html#a2">storeFunctor</a>(myFileMonitor);
00291       <span class="comment">// and of course to add the monitor to the checkpoint</span>
00292       checkpoint.<a class="code" href="classeo_check_point.html#a2">add</a>(*myFileMonitor);
00293       <span class="comment">// and the different fields to the monitor</span>
00294       myFileMonitor-&gt;<a class="code" href="classeo_monitor.html#a1">add</a>(generationCounter);
00295       myFileMonitor-&gt;<a class="code" href="classeo_monitor.html#a1">add</a>(eval);
00296       myFileMonitor-&gt;<a class="code" href="classeo_monitor.html#a1">add</a>(myStat);
00297     }
00298 
00299 <span class="preprocessor">#ifdef HAVE_GNUPLOT</span>
00300 <span class="preprocessor"></span>  <span class="comment">// should we PLOT it on StdOut ? (one dot per generation, incremental plot)</span>
00301   <span class="keywordflow">if</span> (plotMyStructStat)
00302     {
00303       myGnuMonitor = <span class="keyword">new</span> <a class="code" href="classeo_gnuplot1_d_monitor.html">eoGnuplot1DMonitor</a>(dirName+<span class="stringliteral">"plot_myStat.xg"</span>,minimizing_fitness&lt;Indi&gt;());
00304       <span class="comment">// NOTE: you cand send commands to gnuplot at any time with the method</span>
00305       <span class="comment">// myGnuMonitor-&gt;gnuplotCommand(string)</span>
00306       <span class="comment">// par exemple, gnuplotCommand("set logscale y")</span>
00307 
00308       <span class="comment">// don't forget to store the memory in the state</span>
00309       state.<a class="code" href="classeo_functor_store.html#a2">storeFunctor</a>(myGnuMonitor);
00310       <span class="comment">// and of course to add the monitor to the checkpoint</span>
00311       checkpoint.<a class="code" href="classeo_check_point.html#a2">add</a>(*myGnuMonitor);
00312       <span class="comment">// and the different fields to the monitor (X = eval, Y = myStat)</span>
00313       myGnuMonitor-&gt;<a class="code" href="classeo_monitor.html#a1">add</a>(eval);
00314       myGnuMonitor-&gt;<a class="code" href="classeo_monitor.html#a1">add</a>(myStat);
00315     }
00316 <span class="preprocessor">#endif</span>
00317 <span class="preprocessor"></span>
00318   <span class="comment">// algorithm (need the operator!)</span>
00319   <a class="code" href="classeo_algo.html">eoAlgo&lt;Indi&gt;</a>&amp; ga = make_algo_scalar(parser, state, eval, checkpoint, op);
00320   <span class="comment">// and the distance if you want to do sharing</span>
00321   <span class="comment">// eoAlgo&lt;Indi&gt;&amp; ga = make_algo_scalar(parser, state, eval, checkpoint, op, &amp;dist);</span>
00322 
00324 
00326   <span class="comment">// to be called AFTER all parameters have been read!!!</span>
00327   make_help(parser);
00328 
00331   <span class="comment">// evaluate intial population AFTER help and status in case it takes time</span>
00332   apply&lt;Indi&gt;(eval, pop);
00333   <span class="comment">// if you want to print it out</span>
00334 <span class="comment">//   cout &lt;&lt; "Initial Population\n";</span>
00335 <span class="comment">//   pop.sortedPrintOn(cout);</span>
00336 <span class="comment">//   cout &lt;&lt; endl;</span>
00337 
00338   run_ea(ga, pop); <span class="comment">// run the ga</span>
00339 
00340   cout &lt;&lt; <span class="stringliteral">"Final Population\n"</span>;
00341   pop.<a class="code" href="classeo_pop.html#a17">sortedPrintOn</a>(cout);
00342   cout &lt;&lt; endl;
00343 
00344   }
00345   <span class="keywordflow">catch</span>(exception&amp; e)
00346   {
00347     cout &lt;&lt; e.what() &lt;&lt; endl;
00348   }
00349   <span class="keywordflow">return</span> 0;
00350 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 05:06:41 2006 for EO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
