<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>EO: geneticOps.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">pyeo</a></div>
<h1>geneticOps.cpp</h1><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">    PyEO</span>
00003 <span class="comment">    </span>
00004 <span class="comment">    Copyright (C) 2003 Maarten Keijzer</span>
00005 <span class="comment"></span>
00006 <span class="comment">    This program is free software; you can redistribute it and/or modify</span>
00007 <span class="comment">    it under the terms of the GNU General Public License as published by</span>
00008 <span class="comment">    the Free Software Foundation; either version 2 of the License, or</span>
00009 <span class="comment">    (at your option) any later version.</span>
00010 <span class="comment"></span>
00011 <span class="comment">    This program is distributed in the hope that it will be useful,</span>
00012 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00014 <span class="comment">    GNU General Public License for more details.</span>
00015 <span class="comment"></span>
00016 <span class="comment">    You should have received a copy of the GNU General Public License</span>
00017 <span class="comment">    along with this program; if not, write to the Free Software</span>
00018 <span class="comment">    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00019 <span class="comment">*/</span>
00020 
00021 <span class="preprocessor">#include &lt;eoGenOp.h&gt;</span>
00022 <span class="preprocessor">#include &lt;eoOp.h&gt;</span>
00023 <span class="preprocessor">#include &lt;eoCloneOps.h&gt;</span>
00024 <span class="preprocessor">#include &lt;eoPopulator.h&gt;</span>
00025 <span class="preprocessor">#include &lt;eoOpContainer.h&gt;</span>
00026 
00027 <span class="preprocessor">#include "PyEO.h"</span>
00028 <span class="preprocessor">#include "def_abstract_functor.h"</span>
00029 
00030 <span class="keyword">using</span> <span class="keyword">namespace </span>boost::python;
00031 
00032 <span class="keyword">class </span>GenOpWrapper : <span class="keyword">public</span> <a class="code" href="classeo_gen_op.html">eoGenOp</a>&lt;PyEO&gt;
00033 {
00034     <span class="keyword">public</span>:
00035 
00036     PyObject* <span class="keyword">self</span>;
00037     GenOpWrapper(PyObject* p) : self(p) {}
00038     <span class="keywordtype">unsigned</span> <a class="code" href="classeo_gen_op.html#a1">max_production</a>(<span class="keywordtype">void</span>)
00039     {
00040         <span class="keywordflow">return</span> call_method&lt;unsigned&gt;(<span class="keyword">self</span>,<span class="stringliteral">"max_production"</span>);
00041     }
00042     std::string className()<span class="keyword"> const</span>
00043 <span class="keyword">    </span>{
00044         <span class="keywordflow">return</span> <span class="stringliteral">"GenOpDerivative"</span>; <span class="comment">// never saw the use of className anyway</span>
00045     }
00046     
00047     <span class="keywordtype">void</span> <a class="code" href="classeo_gen_op.html#b0">apply</a>(<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>&amp; populator )
00048     {
00049         boost::python::call_method&lt;void&gt;(<span class="keyword">self</span>,<span class="stringliteral">"apply"</span>, boost::ref( populator ) );
00050     }
00051 };
00052 
00053 <span class="keyword">class </span>PopulatorWrapper : <span class="keyword">public</span> <a class="code" href="classeo_populator.html">eoPopulator</a>&lt;PyEO&gt;
00054 {
00055 <span class="keyword">public</span>:
00056     PyObject* <span class="keyword">self</span>;
00057     PopulatorWrapper(PyObject* p, <span class="keyword">const</span> <a class="code" href="classeo_pop.html">eoPop&lt;PyEO&gt;</a>&amp; src, <a class="code" href="classeo_pop.html">eoPop&lt;PyEO&gt;</a>&amp; dest) 
00058         : <a class="code" href="classeo_populator.html">eoPopulator</a>&lt;PyEO&gt;(src, dest), self(p) 
00059         {
00060             <span class="comment">//throw std::runtime_error("abstract base class");</span>
00061         }
00062     
00063     <span class="keyword">const</span> PyEO&amp; <a class="code" href="classeo_populator.html#a11">select</a>()
00064     {
00065         <span class="keywordflow">return</span> call_method&lt;const PyEO&amp;&gt;(<span class="keyword">self</span>,<span class="stringliteral">"select"</span>);
00066     }
00067 };
00068 
00069 <span class="keyword">class </span>MonOpWrapper : <span class="keyword">public</span> <a class="code" href="classeo_mon_op.html">eoMonOp</a>&lt;PyEO&gt;
00070 {
00071 <span class="keyword">public</span>:
00072     PyObject* <span class="keyword">self</span>;
00073     MonOpWrapper(PyObject* p) : self(p) {}
00074     <span class="keywordtype">bool</span> <a class="code" href="classeo_u_f.html#a1">operator()</a>(PyEO&amp; _eo)
00075     { <span class="keywordflow">return</span> boost::python::call_method&lt;bool&gt;(<span class="keyword">self</span>, <span class="stringliteral">"__call__"</span>, boost::ref( _eo )); }
00076 };
00077 <span class="keyword">class </span>BinOpWrapper : <span class="keyword">public</span> <a class="code" href="classeo_bin_op.html">eoBinOp</a>&lt;PyEO&gt;
00078 {
00079 <span class="keyword">public</span>:
00080     PyObject* <span class="keyword">self</span>;
00081     BinOpWrapper(PyObject* p) : self(p) {}
00082     <span class="keywordtype">bool</span> <a class="code" href="classeo_b_f.html#a1">operator()</a>(PyEO&amp; _eo, <span class="keyword">const</span> PyEO&amp; _eo2)
00083     { <span class="keywordflow">return</span> boost::python::call_method&lt;bool&gt;(<span class="keyword">self</span>, <span class="stringliteral">"__call__"</span>, boost::ref( _eo ), boost::ref(_eo2)); }
00084 };
00085 <span class="keyword">class </span>QuadOpWrapper : <span class="keyword">public</span> <a class="code" href="classeo_quad_op.html">eoQuadOp</a>&lt;PyEO&gt;
00086 {
00087 <span class="keyword">public</span>:
00088     PyObject* <span class="keyword">self</span>;
00089     QuadOpWrapper(PyObject* p) : self(p) {}
00090     <span class="keywordtype">bool</span> <a class="code" href="classeo_b_f.html#a1">operator()</a>(PyEO&amp; _eo, PyEO&amp; _eo2)
00091     { <span class="keywordflow">return</span> boost::python::call_method&lt;bool&gt;(<span class="keyword">self</span>, <span class="stringliteral">"__call__"</span>, boost::ref( _eo ), boost::ref(_eo2)); }
00092 };
00093 
00094 <span class="keywordtype">void</span> geneticOps()
00095 {
00096     class_&lt;eoPopulator&lt;PyEO&gt;, PopulatorWrapper, boost::noncopyable&gt;
00097         (<span class="stringliteral">"eoPopulator"</span>, init&lt;const eoPop&lt;PyEO&gt;&amp;, <a class="code" href="classeo_pop.html">eoPop&lt;PyEO&gt;</a>&amp;&gt;() )
00098         .def(<span class="stringliteral">"select"</span>, &amp;PopulatorWrapper::select,  return_internal_reference&lt;&gt;() )
00099         .def(<span class="stringliteral">"get"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::<span class="keyword">operator</span>*, return_internal_reference&lt;&gt;() )
00100         .def(<span class="stringliteral">"next"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::<span class="keyword">operator</span>++, return_internal_reference&lt;&gt;() )
00101         .def(<span class="stringliteral">"insert"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::insert)
00102         .def(<span class="stringliteral">"reserve"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::reserve)
00103         .def(<span class="stringliteral">"source"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::source, return_internal_reference&lt;&gt;() )
00104         .def(<span class="stringliteral">"offspring"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::offspring, return_internal_reference&lt;&gt;() )
00105         .def(<span class="stringliteral">"tellp"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::tellp)
00106         .def(<span class="stringliteral">"seekp"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::seekp)
00107         .def(<span class="stringliteral">"exhausted"</span>, &amp;<a class="code" href="classeo_populator.html">eoPopulator&lt;PyEO&gt;</a>::exhausted)
00108         ;
00109 
00110     class_&lt;eoSeqPopulator&lt;PyEO&gt;, bases&lt;eoPopulator&lt;PyEO&gt; &gt; &gt;
00111         (<span class="stringliteral">"eoSeqPopulator"</span>, init&lt;const eoPop&lt;PyEO&gt;&amp;, <a class="code" href="classeo_pop.html">eoPop&lt;PyEO&gt;</a>&amp;&gt;() )
00112         .def(<span class="stringliteral">"select"</span>, &amp;<a class="code" href="classeo_seq_populator.html">eoSeqPopulator&lt;PyEO&gt;</a>::select, return_internal_reference&lt;&gt;() )
00113         ;
00114     
00115     class_&lt;eoSelectivePopulator&lt;PyEO&gt;, bases&lt;eoPopulator&lt;PyEO&gt; &gt; &gt;
00116         (<span class="stringliteral">"eoSelectivePopulator"</span>, init&lt;const eoPop&lt;PyEO&gt;&amp;, <a class="code" href="classeo_pop.html">eoPop&lt;PyEO&gt;</a>&amp;, <a class="code" href="classeo_select_one.html">eoSelectOne&lt;PyEO&gt;</a>&amp; &gt;() )
00117         .def(<span class="stringliteral">"select"</span>, &amp;<a class="code" href="classeo_seq_populator.html">eoSeqPopulator&lt;PyEO&gt;</a>::select, return_internal_reference&lt;&gt;() )
00118         ;
00119     enum_&lt;eoOp&lt;PyEO&gt;::OpType&gt;(<span class="stringliteral">"OpType"</span>)
00120         .value(<span class="stringliteral">"unary"</span>, <a class="code" href="classeo_op.html">eoOp&lt;PyEO&gt;</a>::unary)
00121         .value(<span class="stringliteral">"binary"</span>, <a class="code" href="classeo_op.html">eoOp&lt;PyEO&gt;</a>::binary)
00122         .value(<span class="stringliteral">"quadratic"</span>, <a class="code" href="classeo_op.html">eoOp&lt;PyEO&gt;</a>::quadratic)
00123         .value(<span class="stringliteral">"general"</span>, <a class="code" href="classeo_op.html">eoOp&lt;PyEO&gt;</a>::general)
00124         ;
00125    
00126     class_&lt;eoOp&lt;PyEO&gt; &gt;(<span class="stringliteral">"eoOp"</span>, init&lt;eoOp&lt;PyEO&gt;::OpType&gt;())
00127         .def(<span class="stringliteral">"getType"</span>, &amp;<a class="code" href="classeo_op.html">eoOp&lt;PyEO&gt;</a>::getType);
00128     
00129     class_&lt;eoMonOp&lt;PyEO&gt;, MonOpWrapper, bases&lt;eoOp&lt;PyEO&gt; &gt;, boost::noncopyable&gt;(<span class="stringliteral">"eoMonOp"</span>, init&lt;&gt;())
00130         .def(<span class="stringliteral">"__call__"</span>, &amp;MonOpWrapper::operator(), <span class="stringliteral">"an example docstring"</span>);
00131     class_&lt;eoBinOp&lt;PyEO&gt;, BinOpWrapper, bases&lt;eoOp&lt;PyEO&gt; &gt;, boost::noncopyable&gt;(<span class="stringliteral">"eoBinOp"</span>, init&lt;&gt;())
00132         .def(<span class="stringliteral">"__call__"</span>, &amp;BinOpWrapper::operator());
00133     class_&lt;eoQuadOp&lt;PyEO&gt;, QuadOpWrapper, bases&lt;eoOp&lt;PyEO&gt; &gt;, boost::noncopyable&gt;(<span class="stringliteral">"eoQuadOp"</span>, init&lt;&gt;())
00134         .def(<span class="stringliteral">"__call__"</span>, &amp;QuadOpWrapper::operator());
00135     
00136     class_&lt;eoGenOp&lt;PyEO&gt;, GenOpWrapper, bases&lt;eoOp&lt;PyEO&gt; &gt;, boost::noncopyable&gt;(<span class="stringliteral">"eoGenOp"</span>, init&lt;&gt;())
00137         .def(<span class="stringliteral">"max_production"</span>, &amp;GenOpWrapper::max_production)
00138         .def(<span class="stringliteral">"className"</span>, &amp;GenOpWrapper::className)
00139         .def(<span class="stringliteral">"apply"</span>, &amp;GenOpWrapper::apply)
00140         .def(<span class="stringliteral">"__call__"</span>, &amp;<a class="code" href="classeo_gen_op.html">eoGenOp&lt;PyEO&gt;</a>::<span class="keyword">operator</span>())
00141         ;
00142     
00143     class_&lt;eoSequentialOp&lt;PyEO&gt;, bases&lt;eoGenOp&lt;PyEO&gt; &gt;, boost::noncopyable&gt;(<span class="stringliteral">"eoSequentialOp"</span>, init&lt;&gt;())
00144         .def(<span class="stringliteral">"add"</span>, &amp;<a class="code" href="classeo_sequential_op.html">eoSequentialOp&lt;PyEO&gt;</a>::add, WC1)
00145         .def(<span class="stringliteral">"apply"</span>, &amp;<a class="code" href="classeo_sequential_op.html">eoSequentialOp&lt;PyEO&gt;</a>::apply)
00146         ;
00147    
00148     class_&lt;eoProportionalOp&lt;PyEO&gt;, bases&lt;eoGenOp&lt;PyEO&gt; &gt;, boost::noncopyable&gt;(<span class="stringliteral">"eoProportionalOp"</span>, init&lt;&gt;())
00149         .def(<span class="stringliteral">"add"</span>, &amp;<a class="code" href="classeo_proportional_op.html">eoProportionalOp&lt;PyEO&gt;</a>::add, WC1)
00150         .def(<span class="stringliteral">"apply"</span>, &amp;<a class="code" href="classeo_proportional_op.html">eoProportionalOp&lt;PyEO&gt;</a>::apply)
00151         ;
00152     
00153     <span class="comment">/* Cloning */</span>
00154     class_&lt;eoMonCloneOp&lt;PyEO&gt;, bases&lt;eoMonOp&lt;PyEO&gt; &gt; &gt;(<span class="stringliteral">"eoMonCloneOp"</span>).def(<span class="stringliteral">"__call__"</span>, &amp;<a class="code" href="classeo_mon_clone_op.html">eoMonCloneOp&lt;PyEO&gt;</a>::<span class="keyword">operator</span>());
00155     class_&lt;eoBinCloneOp&lt;PyEO&gt;, bases&lt;eoBinOp&lt;PyEO&gt; &gt; &gt;(<span class="stringliteral">"eoBinCloneOp"</span>).def(<span class="stringliteral">"__call__"</span>, &amp;<a class="code" href="classeo_bin_clone_op.html">eoBinCloneOp&lt;PyEO&gt;</a>::<span class="keyword">operator</span>());
00156     class_&lt;eoQuadCloneOp&lt;PyEO&gt;, bases&lt;eoQuadOp&lt;PyEO&gt; &gt; &gt;(<span class="stringliteral">"eoQuadCloneOp"</span>).def(<span class="stringliteral">"__call__"</span>, &amp;<a class="code" href="classeo_quad_clone_op.html">eoQuadCloneOp&lt;PyEO&gt;</a>::<span class="keyword">operator</span>());
00157 
00158 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 05:06:40 2006 for EO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
